---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

interface Props {
  path: string;
  alt: string;
  className: string;
}

const { path, alt, className } = Astro.props;
const basePath = "../assets/about/";
const imagePath = `${basePath}${path}.jpg`;
const images = import.meta.glob<{ default: ImageMetadata }>(
  "../assets/about/*.jpg",
);
if (!images[imagePath]) throw new Error(`No image found for path: ${path}`);
---

<figure>
  <Image
    src={images[imagePath]()}
    alt={alt}
    class={`rounded-lg shadow-md ${className}`}
  />
  <figcaption>{alt}</figcaption>
</figure>
