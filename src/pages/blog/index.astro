---
import {Image} from "astro:assets";
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
const allBlogPosts = await getCollection("blog");
---

<BaseLayout>
  {
    allBlogPosts.map((post) => (
    <article class="rounded-xl">
        <h1 class="font-bold">{post.data.title}</h1>
        <span class="text-sm">
          ðŸ“…
          {new Date(post.data.publishedAt)
            .toLocaleDateString("en-GB")
            .split("/")
            .join(".")}
        </span>
        {
        post.data.tags.map((tag) => (
          <span class="text-sm bg-orange-400 rounded-full py-0.5 px-2 ml-2">#{tag}</span>
        ))
        }
        <a href={`/blog/${post.slug}`} class="text-primary underline">
          <Image class="rounded-xl mt-5" src={post.data.heroImage} inferSize=true alt={post.data.title} />
        </a>
      </article>
    ))
  }
</BaseLayout>
