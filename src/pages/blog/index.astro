---
import {Image} from "astro:assets";
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
const allBlogPosts = await getCollection("blog");
---

<BaseLayout>
  <h1>Posts</h1>

  {
    allBlogPosts.map((post) => (
      <article>
        <h1>{post.data.title}</h1>
        <span>
          ðŸ“…
          {new Date(post.data.publishedAt)
            .toLocaleDateString("en-GB")
            .split("/")
            .join(".")}
        </span>
        <a href={`/blog/${post.slug}`}>
          Read more..
        </a>
        <Image src={post.data.heroImage} inferSize=true alt={post.data.title} />
      </article>
    ))
  }
</BaseLayout>
